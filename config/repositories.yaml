# Repository Configuration for james-in-a-box (jib)
#
# This file is the SINGLE SOURCE OF TRUTH for which repositories jib has
# read/write access to. All components should import this config rather than
# hardcoding repository names.
#
# Usage:
# - Python: from config.repo_config import get_writable_repos, is_writable_repo
# - Bash/Scripts: parse this YAML or use the helper script
# - Claude Rules: Reference this file for up-to-date repo list
#
# Access Levels:
# - writable: jib can respond to comments, push changes, create PRs
# - readable: jib can sync and analyze but not modify (future)
#
# IMPORTANT: Run `setup.sh` to configure these values interactively.
# The github_username is used to construct repo names and set the default reviewer.

# Your GitHub username (set by setup.sh)
github_username: jwbron

# Bot username - the bot's GitHub identity for filtering out its own comments
# Comments from this user are ignored (so the bot doesn't respond to itself)
bot_username: james-in-a-box

# Repositories where jib has WRITE access
# These are repos where jib can:
# - Respond to PR comments
# - Push code changes
# - Create PRs via GitHub MCP
# - Implement fixes for failed CI checks
writable_repos:
  - jwbron/james-in-a-box
  - jwbron/collaborative-development-framework

# Default reviewer for PRs created by jib (defaults to github_username)
default_reviewer: james-in-a-box

# GitHub sync configuration
github_sync:
  # Whether to sync all PRs in writable repos (true) or just user's PRs (false)
  sync_all_prs: true

  # Sync interval in minutes (used by systemd timer)
  sync_interval_minutes: 5

# Repositories with read-only access
# These are repos where jib can:
# - Sync and analyze PRs, comments, and check failures
# - Send Slack notifications with feedback/analysis
# - NOT: Push code, create PRs, post comments, or make any modifications
#
# Read-only repos only require a GitHub PAT with read access.
# jib will monitor these repos and send Slack messages with:
# - Branch names with proposed changes
# - Analysis and feedback on code
# - Comments and suggestions (sent to user, not posted to GitHub)
#
# Authentication: Uses GITHUB_TOKEN (PAT) - no GitHub App needed for read-only
readable_repos:
  - khan/webapp

# Per-repository configuration overrides
# Each key is a repository name in "owner/repo" format
# Available options per repo:
#   - restrict_to_configured_users: Only auto-respond to comments/PRs from
#     bot_username or github_username (ignores external contributors)
#     Default: false (respond to all users)
repo_settings:
  jwbron/james-in-a-box:
    restrict_to_configured_users: true
    disable_auto_fix: true
  jwbron/collaborative-development-framework:
    restrict_to_configured_users: true
    disable_auto_fix: true
