#!/usr/bin/env python3
"""
CLI wrapper for the humanizer module.

Usage:
    humanize-text "text to humanize"
    echo "text" | humanize-text

Returns humanized text on stdout. If humanization fails, returns original text
(fail-open behavior).
"""

import sys
import os

# Add jib_lib to path
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from jib_lib.humanizer import humanize_text


def main():
    # Get text from argument or stdin
    if len(sys.argv) > 1:
        text = sys.argv[1]
    else:
        text = sys.stdin.read()

    # Humanize and output
    result = humanize_text(text)
    print(result, end="")


if __name__ == "__main__":
    main()
