# Communication Features

Bidirectional Slack integration for human-agent communication.

## Overview

JIB provides seamless two-way communication with humans via Slack:
- **Outbound**: Agent sends notifications, status updates, and questions
- **Inbound**: Humans send tasks, commands, and feedback via DMs

## Features

### Slack Notifier Service

**Purpose**: Host-side systemd service that monitors ~/.jib-sharing/notifications/ and sends Slack DMs when files are created. Supports thread replies via YAML frontmatter, message batching (15-second window), auto-chunking for long content, and automatic retry.

**Location**:
- `host-services/slack/slack-notifier/slack-notifier.py`
- `host-services/slack/slack-notifier/slack-notifier.service`
- `host-services/slack/slack-notifier/setup.sh`
- `bin/setup-slack-notifier`

### Slack Receiver Service

**Purpose**: Receives incoming Slack DMs via Socket Mode and triggers jib container processing via jib --exec. Supports thread context detection, conversation history, user authentication/allowlisting, and remote control commands.

**Location**:
- `host-services/slack/slack-receiver/slack-receiver.py`
- `host-services/slack/slack-receiver/slack-receiver.service`
- `host-services/slack/slack-receiver/setup.sh`
- `bin/setup-slack-receiver`

**Components**:
- **Remote Control via Slack** (`host-services/slack/slack-receiver/host_command_handler.py`)
- **Slack Thread Context Preservation** (`host-services/slack/slack-receiver/slack-receiver.py`)
- **Slack User Authentication** (`host-services/slack/slack-receiver/slack-receiver.py`)
- **Container Process Monitoring** (`host-services/slack/slack-receiver/slack-receiver.py`)
- **Message Chunking** (`host-services/slack/slack-receiver/slack-receiver.py`)

### Slack Message Processor

**Purpose**: Container-side processor for incoming Slack messages that routes them to Claude Code for task execution. Handles thread context, YAML frontmatter parsing, automatic notifications for success/failure states, and Beads integration.

**Location**: `jib-container/jib-tasks/slack/incoming-processor.py`

### Container Notifications Library

**Purpose**: Python library for sending Slack notifications from within the container. Supports simple notifications, context for threading, and specialized notifications for PRs and code pushes.

**Location**: `shared/notifications.py`

## Related Documentation

- [Slack Integration Architecture](../architecture/slack-integration.md)
- [Host Slack Notifier Details](../architecture/host-slack-notifier.md)
- [Slack Quickstart](../setup/slack-quickstart.md)
- [Slack App Setup](../setup/slack-app-setup.md)

## Source Files

| Component | Path |
|-----------|------|
| Slack Notifier Service | `host-services/slack/slack-notifier/slack-notifier.py` |
| Slack Receiver Service | `host-services/slack/slack-receiver/slack-receiver.py` |
| Slack Message Processor | `jib-container/jib-tasks/slack/incoming-processor.py` |
| Container Notifications Library | `shared/notifications.py` |

---

*Auto-generated by Feature Analyzer*
