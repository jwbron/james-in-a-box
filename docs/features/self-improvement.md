# Self-Improvement Features

LLM efficiency analysis, inefficiency detection, and automated optimization.

## Overview

JIB continuously improves through automated analysis:
- **Trace Collection**: Captures conversation traces for analysis
- **Inefficiency Detection**: Identifies wasteful patterns
- **Optimization**: Suggests and implements improvements

## Features

### LLM Trace Collector

**Purpose**: Collects structured traces of LLM tool calls for inefficiency analysis. Records every tool invocation with parameters, results, timing, and context metrics to JSONL files via Claude Code hooks (PostToolUse, SessionStart, SessionEnd).

**Location**:
- `host-services/analysis/trace-collector/trace_collector.py`
- `host-services/analysis/trace-collector/hook_handler.py`
- `host-services/analysis/trace-collector/schemas.py`
- `host-services/analysis/trace-collector/__init__.py`
- `host-services/analysis/trace-collector/setup.sh`

**Components**:
- **Claude Code Hook Handler** (`host-services/analysis/trace-collector/hook_handler.py`)
- **Trace Event Schema System** (`host-services/analysis/trace-collector/schemas.py`)
- **Trace Reader and Query CLI** (`host-services/analysis/trace-collector/trace_reader.py`)

### LLM Inefficiency Detector

**Purpose**: Analyzes LLM trace sessions to detect processing inefficiencies such as tool discovery failures, retry storms, and resource waste. Generates session and aggregate reports with actionable recommendations.

**Location**:
- `host-services/analysis/inefficiency-detector/inefficiency_detector.py`
- `host-services/analysis/inefficiency-detector/inefficiency_schema.py`
- `host-services/analysis/inefficiency-detector/base_detector.py`
- `host-services/analysis/inefficiency-detector/setup.sh`

**Components**:
- **Tool Discovery Detector** (`host-services/analysis/inefficiency-detector/detectors/tool_discovery_detector.py`)
- **Tool Execution Detector** (`host-services/analysis/inefficiency-detector/detectors/tool_execution_detector.py`)
- **Resource Efficiency Detector** (`host-services/analysis/inefficiency-detector/detectors/resource_efficiency_detector.py`)
- **Improvement Proposer** (`host-services/analysis/inefficiency-detector/improvement_proposer.py`)
- **Impact Tracker** (`host-services/analysis/inefficiency-detector/impact_tracker.py`)
- **Weekly Report Generator** (`host-services/analysis/inefficiency-detector/weekly_report_generator.py`)

### Beads Integration Analyzer

**Purpose**: Analyzes health and effectiveness of the Beads task tracking system across the jib ecosystem. Evaluates task lifecycle, context continuity, task quality, and generates weekly health reports (0-100 score) submitted as PRs.

**Location**:
- `host-services/analysis/beads-analyzer/beads-analyzer.py`
- `host-services/analysis/beads-analyzer/README.md`
- `host-services/analysis/beads-analyzer/setup.sh`
- `host-services/analysis/beads-analyzer/beads-analyzer.service`
- `host-services/analysis/beads-analyzer/beads-analyzer.timer`

**Components**:
- **Beads Metrics Collection** (`jib-container/jib-tasks/analysis/beads-analyzer-processor.py`)
- **Beads Issue Detection** (`jib-container/jib-tasks/analysis/beads-analyzer-processor.py`)
- **AI-Powered Beads Analysis** (`jib-container/jib-tasks/analysis/beads-analyzer-processor.py`)
- **Beads Health Report Generator** (`jib-container/jib-tasks/analysis/beads-analyzer-processor.py`)

### Conversation Analyzer Service

**Purpose**: Weekly analysis service that analyzes Slack/GitHub conversation patterns to identify communication quality issues and improvement opportunities.

**Location**:
- `host-services/analysis/conversation-analyzer/conversation-analyzer.service`
- `host-services/analysis/conversation-analyzer/conversation-analyzer.timer`
- `bin/setup-conversation-analyzer`

## Related Documentation

- [LLM Inefficiency ADR](../adr/implemented/ADR-LLM-Inefficiency-Reporting.md)

## Source Files

| Component | Path |
|-----------|------|
| LLM Trace Collector | `host-services/analysis/trace-collector/trace_collector.py` |
| LLM Inefficiency Detector | `host-services/analysis/inefficiency-detector/inefficiency_detector.py` |
| Beads Integration Analyzer | `host-services/analysis/beads-analyzer/beads-analyzer.py` |
| Conversation Analyzer Service | `host-services/analysis/conversation-analyzer/conversation-analyzer.service` |

---

*Auto-generated by Feature Analyzer*
