# james-in-a-box Feature List

> **Purpose:** This list enables automated codebase and document analyzers to systematically assess each feature for quality, security, and improvement opportunities.
>
> **Generated:** This document was auto-generated by the Feature Analyzer.

## Table of Contents

- [Core Architecture](#core-architecture)
- [Communication](#communication)
- [Context Management](#context-management)
- [GitHub Integration](#github-integration)
- [Self-Improvement System](#self-improvement-system)
- [Documentation System](#documentation-system)
- [Custom Commands](#custom-commands)
- [Container Infrastructure](#container-infrastructure)
- [Utilities](#utilities)
- [Security Features](#security-features)
- [Configuration](#configuration)

---

## Core Architecture

### 1. Failed Task Retry System
**Category:** Core Architecture
**Location:** `host-services/analysis/github-watcher/github-watcher.py`
**Description:** Tracks tasks that failed during jib execution (container crashes, timeouts, errors) and automatically retries them on the next watcher run. Failed tasks bypass timestamp filters ensuring old PRs/comments aren't ignored, with successful retries automatically removing tasks from the retry queue.

### 2. Parallel Task Execution Engine
**Category:** Core Architecture
**Location:** `host-services/analysis/github-watcher/github-watcher.py`
**Description:** Executes multiple jib container tasks concurrently using ThreadPoolExecutor with configurable parallelism (up to 10 concurrent containers). Thread-safe state management ensures correct tracking of processed tasks across parallel executions.

### 3. Event-Driven Message Processing
**Category:** Core Architecture
**Location:** `host-services/slack/slack-receiver/slack-receiver.py`
**Description:** Implements an event-driven architecture where incoming Slack messages trigger container processing via 'jib --exec'. This eliminates the need for background watchers and ensures processing only runs when messages are received, improving resource efficiency.

### 4. Confluence API v2 Integration
**Category:** Core Architecture
**Location:** `host-services/sync/context-sync/connectors/confluence/sync.py`
**Description:** Implements Confluence Cloud REST API v2 with Basic authentication, cursor-based pagination, rate limiting handling with automatic retry, and proper timeout management for reliable content fetching.

### 5. Base Connector Framework
**Category:** Core Architecture
**Location:** `host-services/sync/context-sync/connectors/base.py`
**Description:** Abstract base class providing common functionality for all context-sync connectors including sync state management, metadata tracking, file cleanup operations, and structured logging. Enables consistent implementation patterns across different data source connectors.

### 6. Trace Event Schema System
**Category:** Core Architecture
**Location:** `host-services/analysis/trace-collector/schemas.py`
**Description:** Defines comprehensive data structures for trace events including TraceEvent, SessionMetadata, TraceIndex, ToolCallParams, and ToolResult. Provides tool categorization mapping, serialization/deserialization, and schema for JSONL storage format.

### 7. LLM Prompt Execution
**Category:** Core Architecture
**Location:** `jib-container/jib-tasks/analysis/analysis-processor.py`
**Description:** Executes generic LLM prompts through Claude and returns results as JSON. Supports configurable timeouts, working directories, and streaming output. Also includes a file-based variant that writes JSON output to a file to avoid parsing issues when the LLM includes explanatory text.

### 8. Component Orchestration
**Category:** Core Architecture
**Location:** `setup.sh`
**Description:** Orchestrates the setup of all host service components in a specific order with support for optional components. Handles both standard components and those requiring special setup arguments, with graceful fallback for optional component failures.

## Communication

### 9. Slack Notifier Service
**Category:** Communication
**Location:** `host-services/slack/slack-notifier/slack-notifier.py`, `host-services/slack/slack-notifier/slack-notifier.service`, `host-services/slack/slack-notifier/setup.sh`
**Description:** A host-side systemd service that monitors ~/.jib-sharing/notifications/ directory using inotify and sends Slack DMs when notification files are created. Supports message batching, thread replies via YAML frontmatter or task ID lookup, automatic retry on failure, and systemd integration for auto-restart. Enables asynchronous Claude-to-human communication.

### 10. Slack Thread Management
**Category:** Communication
**Location:** `host-services/slack/slack-notifier/slack-notifier.py`
**Description:** Supports threading notifications in existing Slack conversations by parsing YAML frontmatter from notification files or looking up task IDs in a persistent threads.json mapping. Enables reply-in-thread functionality for continuous conversations and automated reports with summary + detailed thread replies.

### 11. Notification Batching
**Category:** Communication
**Location:** `host-services/slack/slack-notifier/slack-notifier.py`
**Description:** Batches multiple file changes within a configurable time window (default 15 seconds) before sending to Slack, reducing notification noise while maintaining responsiveness. Supports chunking of long messages into multiple parts to fit Slack's message limits.

### 12. Slack Message Receiver
**Category:** Communication
**Location:** `host-services/slack/slack-receiver/slack-receiver.py`, `host-services/slack/slack-receiver/slack-receiver.service`
**Description:** A Socket Mode-based Slack receiver that listens for incoming DMs and routes them to the jib container for processing. Supports thread context detection, full conversation history tracking, user authentication/allowlisting, and writes messages to ~/.jib-sharing/incoming/ for container processing.

### 13. Message Chunking for Slack
**Category:** Communication
**Location:** `host-services/slack/slack-receiver/slack-receiver.py`
**Description:** Automatically splits long messages into chunks that fit within Slack's character limits (3000 chars for safety). Tries to split on natural boundaries like paragraphs, sentences, or word breaks, and adds part indicators for multi-chunk messages.

### 14. Slack Incoming Message Processor
**Category:** Communication
**Location:** `jib-container/jib-tasks/slack/incoming-processor.py`
**Description:** Processes incoming Slack messages and responses, routing them to Claude Code for autonomous task execution. Handles both new task requests and threaded responses to previous notifications, maintaining conversation context through YAML frontmatter with thread_ts for proper Slack threading.

### 15. Notification Threading System
**Category:** Communication
**Location:** `jib-container/jib-tasks/slack/incoming-processor.py`
**Description:** Creates notification files with YAML frontmatter containing task_id and thread_ts metadata, enabling the slack-notifier to post responses as threaded replies in the original Slack conversation. Supports both success responses and error notifications.

### 16. Slack Notifier Service Setup CLI
**Category:** Communication
**Location:** `bin/setup-slack-notifier`
**Description:** The `setup-slack-notifier` command installs the Slack notifier systemd service that watches for notification files and sends them as Slack DMs. Enables async communication between the container and the human operator.

### 17. Slack Receiver Service Setup CLI
**Category:** Communication
**Location:** `bin/setup-slack-receiver`
**Description:** The `setup-slack-receiver` command installs the Slack receiver systemd service that listens for incoming Slack messages and routes them to the container. Enables bidirectional Slack-based communication.

### 18. Notifications Python Library
**Category:** Communication
**Location:** `shared/notifications.py`
**Description:** Python library providing a standardized interface for sending Slack notifications from container code. Includes slack_notify function, NotificationContext for threading, and specialized notification methods for PRs and code pushes.

## Context Management

### 19. Persistent State Management (GitHub Watcher)
**Category:** Context Management
**Location:** `host-services/analysis/github-watcher/github-watcher.py`
**Description:** Maintains persistent state in ~/.local/share/github-watcher/state.json tracking last run timestamp, processed failures, comments, reviews, conflicts, and failed tasks. Enables resumption after machine downtime by catching up on all missed events since last successful run.

### 20. Thread Context Management (Slack Receiver)
**Category:** Context Management
**Location:** `host-services/slack/slack-receiver/slack-receiver.py`
**Description:** Maintains Slack thread continuity by tracking thread timestamps and storing them in a shared tracking file. This ensures Claude's responses appear in the correct Slack thread, enabling natural conversational flows across multiple exchanges.

### 21. Multi-Connector Context Sync System
**Category:** Context Management
**Location:** `host-services/sync/context-sync/sync_all.py`, `host-services/sync/context-sync/connectors/base.py`, `host-services/sync/context-sync/README.md`
**Description:** A comprehensive documentation synchronization system that pulls content from multiple external sources (Confluence, JIRA, with planned GitHub and Slack support) into a local directory structure optimized for AI-assisted development. Features a connector-based architecture where each data source has its own implementation inheriting from a base connector class.

### 22. Confluence Connector
**Category:** Context Management
**Location:** `host-services/sync/context-sync/connectors/confluence/connector.py`, `host-services/sync/context-sync/connectors/confluence/sync.py`, `host-services/sync/context-sync/connectors/confluence/config.py`
**Description:** Syncs Confluence documentation to local directories with hierarchical structure preservation, view-formatted HTML/markdown content for optimal LLM readability, page comments with timestamps/authors, automatic README index generation, and incremental sync support using content hashes. Outputs to ~/context-sync/confluence/ organized by Confluence space.

### 23. Confluence Comment Synchronization
**Category:** Context Management
**Location:** `host-services/sync/context-sync/connectors/confluence/sync.py`
**Description:** Fetches and formats both footer and inline comments from Confluence pages, tracking comment changes separately from page content for efficient incremental updates. Comments are appended to page files with author and timestamp metadata.

### 24. Single Page Sync
**Category:** Context Management
**Location:** `host-services/sync/context-sync/connectors/confluence/sync.py`
**Description:** Allows syncing individual Confluence pages by page ID or URL, useful for targeted updates without full space synchronization. Supports both HTML and Markdown output formats with incremental change detection.

### 25. Incremental Sync State Management
**Category:** Context Management
**Location:** `host-services/sync/context-sync/connectors/confluence/sync.py`
**Description:** Persists sync state using pickle files to track page content and comment hashes, enabling efficient incremental syncing that only downloads changed pages and avoids redundant API calls.

### 26. JIRA Connector
**Category:** Context Management
**Location:** `host-services/sync/context-sync/connectors/jira/connector.py`, `host-services/sync/context-sync/connectors/jira/sync.py`, `host-services/sync/context-sync/connectors/jira/config.py`
**Description:** Syncs JIRA tickets with full metadata, comments, attachment info, and work logs to local markdown files. Converts Atlassian Document Format (ADF) to markdown, supports customizable JQL queries for filtering, and provides incremental sync based on ticket update timestamps and comment counts.

### 27. Cursor AI Integration
**Category:** Context Management
**Location:** `host-services/sync/context-sync/docs/README.md`
**Description:** Setup utility that configures Cursor IDE rules to prioritize internal company documentation for AI-assisted development. Guides AI behavior to reference synced documentation when making architectural decisions, technology choices, and following company-specific patterns.

### 28. Confluence Documentation Watcher
**Category:** Context Management
**Location:** `jib-container/jib-tasks/confluence/confluence-processor.py`
**Description:** Monitors Confluence documentation changes, focusing on ADRs and runbooks. Automatically detects new or updated documents, analyzes them using Claude Code to identify impacts on current work, creates Beads tasks for tracking ADR reviews, and sends notifications to Slack about significant documentation changes.

### 29. JIRA Ticket Processor
**Category:** Context Management
**Location:** `jib-container/jib-tasks/jira/jira-processor.py`
**Description:** Monitors and analyzes JIRA tickets assigned to the user using Claude Code. Automatically detects new or updated tickets, extracts requirements and action items, creates Beads tasks for tracking, and sends Slack notifications with summaries and suggested next steps.

### 30. Sprint Ticket Analyzer
**Category:** Context Management
**Location:** `jib-container/jib-tasks/jira/analyze-sprint.py`
**Description:** Analyzes tickets in the active sprint to provide actionable recommendations. Parses JIRA ticket files, categorizes them by status (in progress, in review, blocked, to do), suggests next steps for each, and recommends which backlog tickets to pull into the sprint based on priority scoring.

### 31. Slack Thread Context Preservation
**Category:** Context Management
**Location:** `jib-container/jib-tasks/slack/incoming-processor.py`
**Description:** Maintains conversation continuity across Slack threads by extracting and preserving thread_ts, task_id, and referenced notification IDs from YAML frontmatter. Enables beads task tracking integration to persist memory across container restarts.

### 32. Task Enrichment Integration
**Category:** Context Management
**Location:** `jib-container/jib-tasks/slack/incoming-processor.py`
**Description:** Integrates with the documentation enrichment system to automatically add relevant context to incoming Slack tasks before Claude processes them. Enhances task prompts with documentation context per the LLM Doc Strategy ADR.

### 33. Beads Initialization
**Category:** Context Management
**Location:** `setup.sh`
**Description:** Sets up the Beads persistent memory system in the shared directory (~/.jib-sharing/beads). Initializes a git repository and beads tracking for persistent task memory across container restarts, enabling continuity of work sessions.

## GitHub Integration

### 34. PR Analyzer Tool
**Category:** GitHub Integration
**Location:** `host-services/analysis/analyze-pr/README.md`, `host-services/analysis/analyze-pr/analyze-pr`
**Description:** Analyzes GitHub Pull Requests by fetching comprehensive context (metadata, diff, comments, reviews, CI status, failed check logs) and uses Claude to analyze issues and suggest solutions. Supports multiple modes including fix mode to implement changes, interactive mode for complex issues, and context-only mode for manual review.

### 35. GitHub Watcher Service
**Category:** GitHub Integration
**Location:** `host-services/analysis/github-watcher/github-watcher.py`, `host-services/analysis/github-watcher/setup.sh`, `host-services/analysis/github-watcher/README.md`
**Description:** Host-side systemd service that monitors GitHub repositories every 5 minutes for check failures, new comments, merge conflicts, and review requests. Automatically triggers jib container analysis via `jib --exec` when events are detected, enabling autonomous CI failure fixing, comment response, and PR review workflows.

### 36. Check Failure Detection and Auto-Fix
**Category:** GitHub Integration
**Location:** `host-services/analysis/github-watcher/github-watcher.py`
**Description:** Detects CI check failures on user's and bot's PRs by querying GitHub API for failing, cancelled, or timed-out check runs. Fetches full logs from failed GitHub Actions runs and triggers jib container to analyze and fix the issues automatically. Tracks processed failures by commit SHA to avoid duplicate processing.

### 37. PR Comment Monitoring and Response
**Category:** GitHub Integration
**Location:** `host-services/analysis/github-watcher/github-watcher.py`
**Description:** Monitors PRs for new comments from humans (filtering out bot comments) including issue comments, review body comments, and line-level review comments. Triggers jib container to respond to comments, enabling autonomous conversation participation on GitHub PRs.

### 38. Merge Conflict Detection
**Category:** GitHub Integration
**Location:** `host-services/analysis/github-watcher/github-watcher.py`
**Description:** Detects merge conflicts on PRs by checking mergeable status (CONFLICTING) and merge state (DIRTY). Triggers jib container to resolve conflicts when detected, tracking processed conflicts by commit SHA to allow fresh retries after new commits.

### 39. PR Review Request Handler (Host-Side)
**Category:** GitHub Integration
**Location:** `host-services/analysis/github-watcher/github-watcher.py`
**Description:** Identifies new PRs from other authors that need code review and triggers jib container with pr-reviewer task to provide automated code reviews. Helps maintain code quality through autonomous review participation.

### 40. Open PR ADR Research
**Category:** GitHub Integration
**Location:** `host-services/analysis/adr-researcher/adr-researcher.py`
**Description:** Discovers open pull requests that modify ADR files and posts research findings as PR comments. Automatically finds ADRs in open PRs across configured writable repositories and invokes jib containers to research each topic, providing relevant industry context and recommendations to reviewers.

### 41. Beads Health Report PR Generation
**Category:** GitHub Integration
**Location:** `host-services/analysis/beads-analyzer/beads-analyzer.py`
**Description:** Automatically creates Pull Requests containing health reports committed to docs/analysis/beads/ in the repository. Implements report rotation by keeping only the last 5 reports, automatically deleting older ones when creating new PRs.

### 42. GitHub CI/CD Failure Processor
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/github/github-processor.py`, `jib-container/jib-tasks/github/README.md`
**Description:** Automatically detects CI/CD check failures on PRs, analyzes logs for patterns (test failures, linting errors, build failures), and suggests or implements fixes. Creates Beads tasks for tracking and sends Slack notifications with analysis and suggested actions.

### 43. PR Auto-Review System
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/github/pr-reviewer.py`, `jib-container/jib-tasks/github/README.md`
**Description:** Automatically reviews new PRs from other team members when running in watch mode. Analyzes diff content, checks for security concerns, reviews code quality, and identifies performance issues. Skips self-reviews and tracks reviewed PRs to avoid duplicates.

### 44. PR Comment Auto-Responder
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/github/comment-responder.py`, `jib-container/jib-tasks/github/README.md`
**Description:** Monitors PR comments on user's own PRs and uses Claude to generate contextual responses. Handles different comment types (questions, change requests, concerns, positive feedback) and can make code changes for writable repos or notify via Slack for read-only repos.

### 45. PR Command Handler
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/github/command-handler.py`, `jib-container/jib-tasks/github/README.md`
**Description:** Processes incoming Slack messages for PR-related commands like 'review PR 123' or '/pr review 123 webapp'. Monitors incoming message directories, parses commands, and triggers the appropriate PR reviewer script.

### 46. PR Context Analyzer
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/github/pr-analyzer.py`, `jib-container/jib-tasks/github/README.md`
**Description:** Container-side processor that analyzes comprehensive PR context (metadata, checks, logs, reviews, comments, diff) fetched by host-side scripts. Uses Claude to provide detailed analysis, suggest fixes, or implement changes directly when given --fix flag.

### 47. Merge Conflict Resolution
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/github/github-processor.py`
**Description:** Handles PR merge conflicts by invoking Claude to checkout the PR branch, merge the base branch, identify conflicting files, resolve conflicts intelligently, and push the resolution. Provides detailed prompts for careful conflict resolution.

### 48. PR Review Request Handler (Container-Side)
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/github/github-processor.py`
**Description:** Handles new PR review requests by generating comprehensive code reviews using Claude. Creates inline comments with suggested fixes using GitHub MCP, checks for existing reviews to avoid duplicates, and submits formal review decisions (COMMENT, APPROVE, REQUEST_CHANGES).

### 49. PR Reference Extraction from Slack
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/slack/incoming-processor.py`
**Description:** Automatically detects and extracts GitHub PR references from Slack messages in multiple formats (PR Analysis format, GitHub URLs, owner/repo#number shorthand). Ensures Claude works on the correct PR mentioned in threaded conversations.

### 50. Analysis Report PR Creator
**Category:** GitHub Integration
**Location:** `jib-container/jib-tasks/analysis/analysis-processor.py`
**Description:** Creates pull requests with analysis report files from within the container's isolated git worktree. Handles branch creation, file writing, symlink creation, file deletion, committing, pushing, and PR creation via the GitHub CLI.

### 51. GitHub App Configuration
**Category:** GitHub Integration
**Location:** `setup.sh`
**Description:** Interactive setup wizard for GitHub App authentication including App ID, Installation ID, and private key configuration. Tests token generation after setup and provides detailed step-by-step instructions for creating and installing a GitHub App with appropriate permissions.

## Self-Improvement System

### 52. Merged ADR Update System
**Category:** Self-Improvement System
**Location:** `host-services/analysis/adr-researcher/adr-researcher.py`
**Description:** Researches implemented ADRs and creates update PRs with new research findings. Scans the implemented ADR directory, performs current industry research on each ADR's topics, and generates PRs that add 'Research Updates' sections with latest information, trends, and recommendations.

### 53. Conversation Analyzer
**Category:** Self-Improvement System
**Location:** `host-services/analysis/conversation-analyzer/conversation-analyzer.service`, `host-services/analysis/conversation-analyzer/conversation-analyzer.timer`
**Description:** Analyzes Slack and GitHub conversation patterns weekly to assess communication quality. Runs via systemd timer to generate reports on interaction patterns and improvement opportunities.

### 54. LLM Trace Collector
**Category:** Self-Improvement System
**Location:** `host-services/analysis/trace-collector/trace_collector.py`, `host-services/analysis/trace-collector/schemas.py`, `host-services/analysis/trace-collector/__init__.py`
**Description:** Collects structured traces of LLM tool calls during Claude Code sessions for inefficiency analysis. Captures tool invocations, durations, results, token usage, and cache metrics to enable identification of tool discovery failures, decision loops, retry storms, and resource inefficiencies.

### 55. LLM Inefficiency Detector
**Category:** Self-Improvement System
**Location:** `host-services/analysis/inefficiency-detector/inefficiency_detector.py`, `host-services/analysis/inefficiency-detector/inefficiency_schema.py`, `host-services/analysis/inefficiency-detector/base_detector.py`
**Description:** Analyzes LLM trace sessions to detect processing inefficiencies like tool discovery failures, retry storms, redundant reads, and excessive context loading. Generates detailed session and aggregate reports with actionable recommendations to improve LLM performance and reduce wasted tokens.

### 56. Tool Discovery Detector
**Category:** Self-Improvement System
**Location:** `host-services/analysis/inefficiency-detector/detectors/tool_discovery_detector.py`
**Description:** Detects inefficiencies in finding and using tools and documentation, including documentation misses, search failures, and API confusion. Accounts for approximately 45% of LLM inefficiencies according to the ADR taxonomy.

### 57. Tool Execution Detector
**Category:** Self-Improvement System
**Location:** `host-services/analysis/inefficiency-detector/detectors/tool_execution_detector.py`
**Description:** Detects technical failures in tool invocation such as retry storms (same tool failing 3+ times with identical error) and parameter validation errors. Helps identify when the LLM retries commands without investigating errors first.

### 58. Resource Efficiency Detector
**Category:** Self-Improvement System
**Location:** `host-services/analysis/inefficiency-detector/detectors/resource_efficiency_detector.py`
**Description:** Detects inefficient resource usage patterns including redundant file reads (same file read multiple times) and excessive context loading (reading large files without using limit/offset). Helps optimize token usage.

### 59. Inefficiency Detector System
**Category:** Self-Improvement System
**Location:** `host-services/analysis/inefficiency-detector/detectors/__init__.py`
**Description:** A system of specialized detectors that analyze Claude Code trace data to identify inefficient patterns in tool usage, resource consumption, and execution. Includes three detector categories: Resource Efficiency, Tool Discovery, and Tool Execution.

### 60. Improvement Proposer
**Category:** Self-Improvement System
**Location:** `host-services/analysis/inefficiency-detector/improvement_proposer.py`, `host-services/analysis/inefficiency-detector/proposal_schema.py`
**Description:** Generates structured improvement proposals from detected inefficiencies using predefined templates. Creates actionable proposals for prompt refinements, tool additions, and decision frameworks that are submitted for human review before implementation.

### 61. Impact Tracker
**Category:** Self-Improvement System
**Location:** `host-services/analysis/inefficiency-detector/impact_tracker.py`
**Description:** Tracks the effectiveness of implemented improvement proposals by measuring actual token savings against expected savings. Generates impact reports showing which proposals are under/over-performing and enables the metacognitive evaluation loop.

### 62. Weekly Inefficiency Report Generator
**Category:** Self-Improvement System
**Location:** `host-services/analysis/inefficiency-detector/weekly_report_generator.py`
**Description:** Automatically generates weekly inefficiency reports with proposals and creates GitHub PRs for review. Supports Slack notifications for human-in-the-loop proposal review and can be run via systemd timer or manually.

### 63. Beads Integration Analyzer (Host-Side)
**Category:** Self-Improvement System
**Location:** `host-services/analysis/beads-analyzer/beads-analyzer.py`, `host-services/analysis/beads-analyzer/README.md`
**Description:** Analyzes how well the Beads task tracking system is being used to identify integration health issues and improvement opportunities. Evaluates task lifecycle patterns, context continuity, task quality, integration coverage, and abandonment patterns, generating health scores and actionable reports.

### 64. Feature Extraction for FEATURES.md
**Category:** Self-Improvement System
**Location:** `jib-container/jib-tasks/analysis/analysis-processor.py`
**Description:** Extracts meaningful features from code files for generating FEATURES.md documentation. Analyzes source code and pre-extracted features to produce a structured JSON list of user-facing features with names, descriptions, categories, and confidence scores.

### 65. Beads Health Analyzer (Container-Side)
**Category:** Self-Improvement System
**Location:** `jib-container/jib-tasks/analysis/beads-analyzer-processor.py`
**Description:** Comprehensive health analysis system for the Beads task tracking database. Calculates metrics like task completion rates, abandonment detection, notes coverage, label usage, and source tracking. Identifies issues with task management and generates actionable recommendations.

### 66. Claude-Powered Task Analysis
**Category:** Self-Improvement System
**Location:** `jib-container/jib-tasks/analysis/beads-analyzer-processor.py`
**Description:** Runs intelligent analysis of Beads usage using Claude to detect patterns, issues, and provide recommendations that simple rule-based analysis might miss. Generates executive summaries, task quality scores, trend analysis compared to previous reports, and workflow anti-pattern detection.

### 67. Beads Metrics Collection
**Category:** Self-Improvement System
**Location:** `jib-container/jib-tasks/analysis/beads-analyzer-processor.py`
**Description:** Aggregates comprehensive metrics about Beads task tracking usage including task counts by status and source, lifecycle metrics (time to close, proper closure rates), integration coverage (Slack, GitHub, JIRA linked tasks), and quality indicators.

### 68. Conversation Analyzer Timer Setup CLI
**Category:** Self-Improvement System
**Location:** `bin/setup-conversation-analyzer`
**Description:** The `setup-conversation-analyzer` command installs a systemd timer that periodically analyzes conversations. Supports the self-improvement system by extracting patterns and insights from interactions.

## Documentation System

### 69. Spec Enricher CLI
**Category:** Documentation System
**Location:** `host-services/analysis/spec-enricher/spec-enricher.py`, `host-services/analysis/spec-enricher/setup.sh`, `host-services/analysis/spec-enricher/samples/auth-api-task.md`
**Description:** A command-line tool that enriches task specifications with relevant documentation links and code examples. It reads task specs from files or stdin and can output enriched context in YAML, JSON, or Markdown formats, helping users quickly find relevant documentation and code references for their tasks.

### 70. Codebase Index Generator
**Category:** Documentation System
**Location:** `host-services/analysis/index-generator/index-generator.py`
**Description:** Analyzes Python codebases and generates machine-readable JSON indexes (codebase.json, patterns.json, dependencies.json) for efficient LLM navigation. Extracts project structure, components (classes/functions), code patterns, internal/external dependencies, and conventions to help LLMs understand and navigate large codebases without loading entire files into context.

### 71. Confluence Space Navigation Index Generation
**Category:** Documentation System
**Location:** `host-services/sync/context-sync/connectors/confluence/sync.py`
**Description:** Automatically generates README.md index files for each directory in the synced hierarchy, creating a navigable documentation structure with links to subdirectories and content pages for easy browsing.

### 72. Migration Guide and Tooling
**Category:** Documentation System
**Location:** `host-services/sync/context-sync/docs/MIGRATION.md`
**Description:** Documentation and procedures for migrating from the older single-purpose Confluence sync to the new multi-connector architecture, including backwards compatibility information, step-by-step migration instructions, and rollback procedures.

### 73. Feature Analyzer Pipeline
**Category:** Documentation System
**Location:** `host-services/analysis/feature-analyzer/feature-analyzer.py`, `host-services/analysis/feature-analyzer/adr_watcher.py`, `host-services/analysis/feature-analyzer/doc_generator.py`
**Description:** Automated feature detection and documentation sync workflow with 6 phases: manual CLI sync, automated ADR detection, multi-doc PR creation, validation/rollback tooling, weekly code analysis, and full repository FEATURES.md generation.

### 74. ADR Researcher CLI
**Category:** Documentation System
**Location:** `host-services/analysis/adr-researcher/adr-researcher.py`, `host-services/analysis/adr-researcher/README.md`
**Description:** Research-based ADR (Architecture Decision Record) workflow tool that researches ADRs via web search and outputs findings as PRs or comments. Implements Phase 6 of ADR-LLM-Documentation-Index-Strategy, enabling research-driven workflows for open PRs, merged ADRs, new ADR generation, and existing ADR review.

### 75. ADR Generation from Research
**Category:** Documentation System
**Location:** `host-services/analysis/adr-researcher/adr-researcher.py`
**Description:** Generates complete new ADRs grounded in current industry research. Takes a topic as input, performs comprehensive web research, and creates a fully-formed ADR with research-backed content in the proposed ADR directory, complete with sources, findings, and recommendations.

### 76. ADR Review and Validation
**Category:** Documentation System
**Location:** `host-services/analysis/adr-researcher/adr-researcher.py`
**Description:** Validates existing ADR claims against current research. Reads an ADR file, researches each claim and assertion, and posts review findings as a PR comment (if PR exists) or generates a markdown report with validation results and any conflicting or supporting evidence.

### 77. Topic Research Mode
**Category:** Documentation System
**Location:** `host-services/analysis/adr-researcher/adr-researcher.py`
**Description:** Researches a specific topic without creating or updating ADRs. Useful for ad-hoc research queries about technologies, patterns, or approaches. Can output results as a PR or as a markdown report to stdout with the --report-only flag.

### 78. Documentation Generator (4-Agent Pipeline)
**Category:** Documentation System
**Location:** `host-services/analysis/doc-generator/doc-generator.py`
**Description:** Generates documentation from codebase analysis using a multi-agent pipeline with four stages: Context Agent (analyzes code structure and patterns from indexes), Draft Agent (generates initial documentation), Review Agent (validates accuracy and completeness), and Output Agent (formats and saves documentation).

### 79. Documentation Drift Detector
**Category:** Documentation System
**Location:** `host-services/analysis/doc-generator/drift-detector.py`
**Description:** Compares documentation against current code to find discrepancies such as references to files that no longer exist, functions/classes that have been renamed or removed, outdated configuration values, stale path references, and broken markdown links.

### 80. ADR Processor
**Category:** Documentation System
**Location:** `jib-container/jib-tasks/adr/adr-processor.py`
**Description:** Container-side dispatcher for Architecture Decision Record (ADR) research tasks. Receives context via command-line arguments from the host-side adr-researcher.py and dispatches to appropriate handlers for researching existing ADRs, generating new ADRs from topic research, reviewing ADRs against current industry practices, and conducting general topic research.

### 81. Documentation Generation from ADRs
**Category:** Documentation System
**Location:** `jib-container/jib-tasks/analysis/analysis-processor.py`
**Description:** Generates documentation updates based on Architecture Decision Record (ADR) content. Takes ADR text and existing documentation, then uses Claude to produce updated documentation that reflects the implemented ADR while preserving structure and style.

### 82. Beads Health Report Generator
**Category:** Documentation System
**Location:** `jib-container/jib-tasks/analysis/beads-analyzer-processor.py`
**Description:** Generates detailed markdown health reports for Beads task tracking. Reports include health scores (0-100), executive summaries with metrics tables, task distribution charts, quality metrics, issue identification, and prioritized recommendations.

### 83. Documentation Link Fixer
**Category:** Documentation System
**Location:** `scripts/fix-doc-links.py`
**Description:** Automatically fixes broken links in documentation files by updating links to files that have moved, removing references to deleted files, and correcting relative path issues. Supports both dry-run preview mode and apply mode for actual changes.

### 84. Documentation Generator CLI
**Category:** Documentation System
**Location:** `bin/generate-docs`
**Description:** The `generate-docs` command automatically generates documentation from code patterns, helping maintain up-to-date documentation without manual effort. Useful for keeping technical documentation synchronized with the codebase.

### 85. Documentation Drift Checker CLI
**Category:** Documentation System
**Location:** `bin/check-doc-drift`
**Description:** The `check-doc-drift` command detects when documentation has drifted from the actual code implementation. Helps maintain documentation accuracy by identifying outdated or incorrect documentation.

### 86. ADR Researcher CLI Tool
**Category:** Documentation System
**Location:** `bin/adr-researcher`
**Description:** Research-based Architecture Decision Record (ADR) workflow tool that helps create and manage ADRs through automated research. Supports targeting specific PRs with the --pr flag for focused architectural analysis.

### 87. Documentation Generator Timer Setup CLI
**Category:** Documentation System
**Location:** `bin/setup-doc-generator`
**Description:** The `setup-doc-generator` command installs a weekly systemd timer that automatically runs documentation generation. Ensures documentation stays current through scheduled automated updates.

## Custom Commands

### 88. Beads Session-End Hook
**Category:** Custom Commands
**Location:** `jib-container/.claude/hooks/session-end.sh`
**Description:** Automatic cleanup hook that runs when a Claude Code session ends. Warns about tasks still in progress, shows open tasks that may be forgotten, and syncs the beads database to ensure no work is lost across container restarts.

### 89. Claude Code Slash Commands System
**Category:** Custom Commands
**Location:** `jib-container/.claude/commands/README.md`, `jib-container/claude-commands/README.md`
**Description:** A collection of slash commands for Claude Code CLI that provide automation and workflow capabilities in the sandboxed environment. Commands are markdown files containing instructions that Claude executes when users invoke them with the / prefix.

### 90. Context Loading Command
**Category:** Custom Commands
**Location:** `jib-container/.claude/commands/load-context.md`, `jib-container/claude-commands/load-context.md`
**Description:** The /load-context command loads accumulated knowledge from context-sharing documents stored in ~/sharing/context/. It reads sessions, playbooks, anti-patterns, and decision logs to apply accumulated wisdom to current work.

### 91. Context Saving Command
**Category:** Custom Commands
**Location:** `jib-container/.claude/commands/save-context.md`, `jib-container/claude-commands/save-context.md`
**Description:** The /save-context command saves current session knowledge to a context document using ACE methodology (Generation, Reflection, Curation). It analyzes session work and appends to existing documents or creates new ones while preserving historical content.

### 92. Automated PR Creation Command
**Category:** Custom Commands
**Location:** `jib-container/.claude/commands/create-pr.md`, `jib-container/claude-commands/create-pr.md`
**Description:** The /create-pr command automates pull request creation by analyzing git branches and commits, generating comprehensive PR descriptions, extracting JIRA issues from branch names, and creating PRs via GitHub MCP. Supports audit and draft modes.

### 93. Beads Task Status Command
**Category:** Custom Commands
**Location:** `jib-container/.claude/commands/beads-status.md`, `jib-container/claude-commands/beads-status.md`
**Description:** The /beads-status command shows current Beads task tracking status including tasks ready to work on (no blockers), in-progress tasks, blocked tasks, and recently completed tasks. Provides recommendations for what to work on next.

### 94. Beads Git Sync Command
**Category:** Custom Commands
**Location:** `jib-container/.claude/commands/beads-sync.md`, `jib-container/claude-commands/beads-sync.md`
**Description:** The /beads-sync command commits and syncs current Beads task state to the git repository. Useful before container shutdown or after significant changes to ensure all task updates are persisted and the database is consistent with JSONL.

### 95. Confluence Document Update Command
**Category:** Custom Commands
**Location:** `jib-container/.claude/commands/update-confluence-doc.md`, `jib-container/claude-commands/update-confluence-doc.md`
**Description:** The /update-confluence-doc command prepares updates for Confluence documents based on inline comments. It reads the document and synced comments, generates a 'Changed Sections Only' document formatted for copy-paste into Confluence.

### 96. Agent Metrics Report Command
**Category:** Custom Commands
**Location:** `jib-container/.claude/commands/show-metrics.md`, `jib-container/claude-commands/show-metrics.md`
**Description:** The /show-metrics command generates a monitoring report showing recent agent activity including API usage metrics, task completion statistics, context source usage, and insights about patterns and optimizations.

## Container Infrastructure

### 97. GitHub Watcher Systemd Timer Setup
**Category:** Container Infrastructure
**Location:** `host-services/analysis/github-watcher/setup.sh`
**Description:** Automated setup script that installs systemd user service and timer for scheduled GitHub monitoring. Creates necessary state directories, validates prerequisites (gh CLI, jib), and enables the 5-minute timer for continuous monitoring.

### 98. Index Generator Setup and Scheduling
**Category:** Container Infrastructure
**Location:** `host-services/analysis/index-generator/setup.sh`, `host-services/analysis/index-generator/index-generator.service`, `host-services/analysis/index-generator/index-generator.timer`
**Description:** Setup script that creates bin symlinks for easy CLI access (generate-index, query-index), installs systemd user timers for weekly automatic index regeneration, and provides commands to enable/disable/check timer status. Automates the maintenance of up-to-date codebase indexes.

### 99. Slack Notifier Setup Script
**Category:** Container Infrastructure
**Location:** `host-services/slack/slack-notifier/setup.sh`
**Description:** A bash setup script that installs and configures the Slack Notifier as a systemd user service, including symlinking the service file, enabling auto-start on boot, and providing helpful management commands for status checking and log viewing.

### 100. Remote Control Commands
**Category:** Container Infrastructure
**Location:** `host-services/slack/slack-receiver/host_command_handler.py`, `host-services/slack/slack-receiver/slack-receiver.py`
**Description:** Enables remote management of the jib system via Slack DM commands. Users can control container operations (/jib status, restart, rebuild, logs) and systemd services (/service list, status, restart, start, stop, logs) without direct host access.

### 101. Container Process Monitoring
**Category:** Container Infrastructure
**Location:** `host-services/slack/slack-receiver/slack-receiver.py`
**Description:** Monitors jib container processes in background threads, streaming Claude's output to log files in real-time (~/.jib-sharing/logs/{task_id}.log). Automatically creates failure notifications when container startup fails or processes timeout after 45 minutes.

### 102. Context Sync Systemd Scheduler
**Category:** Container Infrastructure
**Location:** `host-services/sync/context-sync/manage_scheduler.sh`, `host-services/sync/context-sync/systemd/context-sync.service`, `host-services/sync/context-sync/systemd/context-sync.timer`
**Description:** Automated scheduling system using systemd user timers for configurable sync frequency (15min, 30min, hourly, or daily). Includes manage_scheduler.sh for easy enable/disable/status management, persistent across reboots, and low-priority execution to avoid impacting development work.

### 103. Worktree Watcher Service
**Category:** Container Infrastructure
**Location:** `host-services/utilities/worktree-watcher/worktree-watcher.sh`, `host-services/utilities/worktree-watcher/worktree-watcher.service`, `host-services/utilities/worktree-watcher/worktree-watcher.timer`
**Description:** A systemd timer service that automatically cleans up orphaned git worktrees and temporary branches from stopped or crashed jib containers. Runs every 15 minutes to scan for container worktree directories, checks if corresponding Docker containers still exist, removes orphaned worktrees, prunes stale git metadata references, and safely deletes orphaned jib-temp-* and jib-exec-* branches.

### 104. ADR Researcher Systemd Service
**Category:** Container Infrastructure
**Location:** `host-services/analysis/adr-researcher/adr-researcher.service`, `host-services/analysis/adr-researcher/adr-researcher.timer`, `host-services/analysis/adr-researcher/setup.sh`
**Description:** Runs ADR researcher as a systemd user service on a weekly schedule (Mondays at 11am). Automatically researches implemented ADRs and creates update PRs with current industry findings, ensuring ADRs stay current without manual intervention.

### 105. Claude Code Hook Handler
**Category:** Container Infrastructure
**Location:** `host-services/analysis/trace-collector/hook_handler.py`
**Description:** Integrates with Claude Code's hook system (PostToolUse, SessionStart, SessionEnd) to automatically capture trace events. Receives hook input via stdin and records events with minimal overhead, designed to fail silently to avoid blocking Claude Code execution.

### 106. Inefficiency Reporter Systemd Service
**Category:** Container Infrastructure
**Location:** `host-services/analysis/inefficiency-detector/inefficiency-reporter.service`, `host-services/analysis/inefficiency-detector/inefficiency-reporter.timer`, `host-services/analysis/inefficiency-detector/setup.sh`
**Description:** Systemd service and timer configuration that runs the weekly inefficiency report generator every Monday at 11 AM. Enables automated, scheduled analysis of LLM trace sessions without manual intervention.

### 107. Beads Analyzer Systemd Timer Setup
**Category:** Container Infrastructure
**Location:** `host-services/analysis/beads-analyzer/setup.sh`, `host-services/analysis/beads-analyzer/beads-analyzer.service`, `host-services/analysis/beads-analyzer/beads-analyzer.timer`
**Description:** Provides automated weekly scheduling of the Beads Integration Analyzer via systemd user timers. The setup script configures the service to run every Monday at 10:00 AM and provides commands for manual triggering and log viewing.

### 108. Documentation Generator Setup & Scheduler
**Category:** Container Infrastructure
**Location:** `host-services/analysis/doc-generator/setup.sh`, `host-services/analysis/doc-generator/doc-generator.service`, `host-services/analysis/doc-generator/doc-generator.timer`
**Description:** Setup script that installs and manages a systemd timer for weekly automated documentation generation. Supports enabling/disabling the timer, checking status, running doc generation manually, and automatically creating GitHub PRs for documentation changes.

### 109. Jib Execution Wrapper
**Category:** Container Infrastructure
**Location:** `host-services/shared/jib_exec.py`, `host-services/shared/__init__.py`
**Description:** Provides a standardized interface for host services to execute container-side processors via the `jib --exec` command. Handles path translation between host and container, JSON extraction from mixed stdout output, timeout management, and real-time log streaming for long-running tasks.

### 110. Analysis Task Processor
**Category:** Container Infrastructure
**Location:** `jib-container/jib-tasks/analysis/analysis-processor.py`
**Description:** Container-side dispatcher for analysis-related tasks invoked via `jib --exec`. Handles multiple task types including LLM prompts, documentation generation, feature extraction, and PR creation. Provides a standardized JSON interface for host-side services to invoke LLM capabilities.

### 111. JIB Container Management CLI
**Category:** Container Infrastructure
**Location:** `bin/jib`
**Description:** The `jib` command provides the primary interface for starting and managing the Docker development container. Allows users to launch isolated development environments with proper configuration, mounted volumes, and --exec mode for task execution.

### 112. Docker Environment Setup
**Category:** Container Infrastructure
**Location:** `bin/docker-setup.py`, `jib-container/docker-setup.py`
**Description:** Comprehensive Python script that installs Khan Academy development tools in the Docker container, including Python 3.11, Node.js 20.x, Go, Java 11, PostgreSQL 14, mkcert for HTTPS, watchman for file watching, and Fastly CLI. Handles both Ubuntu and Fedora distributions.

### 113. Container Log Viewer
**Category:** Container Infrastructure
**Location:** `bin/view-logs`
**Description:** The `view-logs` command allows users to view container logs for debugging and monitoring container activity. Essential for troubleshooting container issues and understanding what's happening inside the development environment.

### 114. Systemd Service Management
**Category:** Container Infrastructure
**Location:** `setup.sh`
**Description:** Manages systemd user services for all jib components including slack-notifier, slack-receiver, context-sync, github-watcher, worktree-watcher, conversation-analyzer, github-token-refresher, doc-generator, and adr-researcher. Handles service installation, enabling, starting, restarting, and status reporting.

### 115. Shared Directory Setup
**Category:** Container Infrastructure
**Location:** `setup.sh`
**Description:** Creates and manages the shared directory structure (~/.jib-sharing) with subdirectories for notifications, incoming messages, responses, and context. This directory survives container rebuilds and enables communication between host and container.

### 116. Docker Image Builder
**Category:** Container Infrastructure
**Location:** `setup.sh`
**Description:** Pre-builds the jib Docker image during setup so the first 'jib' command runs quickly. Checks for existing images and handles the build process with appropriate feedback.

### 117. Docker Container Dockerfile
**Category:** Container Infrastructure
**Location:** `jib-container/Dockerfile`
**Description:** Dockerfile for building the jib container image with all required dependencies, tools, and configurations for the autonomous agent environment.

## Utilities

### 118. GitHub API Rate Limit Handler
**Category:** Utilities
**Location:** `host-services/analysis/github-watcher/github-watcher.py`
**Description:** Implements exponential backoff on rate limit errors with configurable retry limits and base wait times. Includes basic throttling (500ms delay) between API calls to prevent hitting rate limits proactively.

### 119. Index Query CLI Tool
**Category:** Utilities
**Location:** `host-services/analysis/index-generator/query-index.py`
**Description:** Command-line interface for querying generated codebase indexes without loading full JSON files. Provides subcommands for viewing summaries, finding components by name, exploring code patterns, listing dependencies, displaying project structure, and searching across all indexes. Enables quick navigation and discovery of codebase information.

### 120. HTML to Markdown Conversion
**Category:** Utilities
**Location:** `host-services/sync/context-sync/connectors/confluence/sync.py`, `host-services/sync/context-sync/connectors/confluence/config.py`
**Description:** Converts Confluence HTML content to clean Markdown format using html2text library, with configuration optimized for Confluence-specific artifacts. Enables output format selection between HTML and Markdown for better readability.

### 121. Confluence Connector CLI
**Category:** Utilities
**Location:** `host-services/sync/context-sync/connectors/confluence/connector.py`
**Description:** Standalone command-line interface for running Confluence documentation sync with options for full vs incremental sync and custom output directories. Provides sync summary with file counts and sizes.

### 122. ADF to Markdown Converter
**Category:** Utilities
**Location:** `host-services/sync/context-sync/connectors/jira/sync.py`
**Description:** Converts Atlassian Document Format (ADF) content to markdown within the JIRA connector. Handles paragraphs, headings, lists, code blocks, blockquotes, text formatting marks (bold, italic, links, code), and various content types for readable output.

### 123. Documentation Search Tool
**Category:** Utilities
**Location:** `host-services/sync/context-sync/utils/search.py`, `host-services/sync/context-sync/docs/README.md`
**Description:** Local search functionality across all synced documentation with context and relevance ranking. Supports space-specific searches, case-sensitive options, and statistics. Enables AI agents and developers to quickly find relevant internal documentation.

### 124. Sync Maintenance Utilities
**Category:** Utilities
**Location:** `host-services/sync/context-sync/utils/maintenance.py`
**Description:** Tools for monitoring sync status, finding orphaned files, and cleanup operations. Shows statistics per space (page counts, sync state), identifies files that may no longer exist in source systems, and supports both dry-run and execute modes for cleanup.

### 125. Project Symlink Manager
**Category:** Utilities
**Location:** `host-services/sync/context-sync/utils/create_symlink.py`, `host-services/sync/context-sync/utils/link_to_khan_projects.py`
**Description:** Creates and manages symlinks from other projects to the synced context-sync directories. Supports bulk linking to all Khan Academy projects, individual project linking, and listing existing symlinks. Enables shared documentation access across the codebase.

### 126. Confluence Space Discovery
**Category:** Utilities
**Location:** `host-services/sync/context-sync/utils/list_spaces.py`, `host-services/sync/context-sync/utils/get_space_ids.py`
**Description:** Utilities to list available Confluence spaces and retrieve space IDs. Helps users identify which spaces to configure for syncing and troubleshoot access permissions.

### 127. Context Sync Makefile Interface
**Category:** Utilities
**Location:** `host-services/sync/context-sync/Makefile`
**Description:** Comprehensive Makefile providing user-friendly commands for all sync operations including docs-setup, docs-sync, docs-search, docs-status, docs-cleanup, docs-link, and more. Serves as the primary CLI interface for the context-sync system.

### 128. Structured Research Result Parser
**Category:** Utilities
**Location:** `host-services/analysis/adr-researcher/adr-researcher.py`
**Description:** Parses Claude's markdown research output into structured, typed dataclasses (ResearchResult, ResearchSource, KeyFinding, IndustryAdoption, Recommendation). Enables IDE autocomplete, runtime validation, and consistent output format across all research task types while preserving raw output for debugging.

### 129. Trace Reader CLI
**Category:** Utilities
**Location:** `host-services/analysis/trace-collector/trace_reader.py`
**Description:** Query and analysis utility for reading collected traces. Provides CLI commands for listing sessions, showing details, exporting to JSON, rebuilding indexes, and generating tool call summaries with filtering by date, task, repository, and outcome.

### 130. Test Discovery and Execution Tool
**Category:** Utilities
**Location:** `jib-container/jib-tools/discover-tests.py`
**Description:** Dynamically discovers test configurations, frameworks, and patterns in any codebase by scanning for pytest, jest, go test, gradle, maven, and other test setups. Provides recommended test commands, supports running discovered tests, and can target specific changed files for efficient testing workflows.

### 131. Setup Update Mode
**Category:** Utilities
**Location:** `setup.sh`
**Description:** Specialized update functionality that cleans up broken symlinks, re-symlinks service files to pick up changes, reloads the systemd daemon, and restarts all jib services without requiring a full reinstallation. Accessible via --update flag.

### 132. Container Status Bar
**Category:** Utilities
**Location:** `jib-container/statusbar.py`
**Description:** Displays real-time container status information in the Claude Code interface. Shows current branch, beads task status, and other contextual information to help users understand container state.

## Security Features

### 133. GitHub Token Refresher Service
**Category:** Security Features
**Location:** `host-services/utilities/github-token-refresher/github-token-refresher.py`, `host-services/utilities/github-token-refresher/github-token-refresher.service`, `host-services/utilities/github-token-refresher/setup.sh`
**Description:** A host-side daemon service that automatically refreshes GitHub App installation tokens every 45 minutes before they expire (tokens expire after 1 hour). Writes tokens to a shared file that running containers can read, ensuring long-running containers maintain GitHub API access without manual intervention.

### 134. GitHub App Token Generator
**Category:** Security Features
**Location:** `jib-container/jib-tools/github-app-token.py`
**Description:** Generates short-lived (1 hour) GitHub App installation access tokens from App credentials. Used by the jib launcher to authenticate the container's MCP server and enable GitHub API operations without storing long-lived credentials.

### 135. MCP Token Watcher
**Category:** Security Features
**Location:** `jib-container/scripts/mcp-token-watcher.py`
**Description:** A daemon/utility that monitors the shared GitHub token file and automatically reconfigures the GitHub MCP server when the token changes. Ensures the MCP server always uses a valid, non-expired token for GitHub API operations, supporting both one-time checks and continuous daemon mode.

### 136. Secrets and Credentials Validation
**Category:** Security Features
**Location:** `setup.sh`
**Description:** Validates and manages sensitive configuration including Slack tokens (SLACK_TOKEN, SLACK_APP_TOKEN), GitHub authentication (App or PAT), Confluence credentials, and JIRA credentials. Creates template secrets files with proper permissions (600) and provides clear guidance for obtaining required tokens.

### 137. Git Credential Helper
**Category:** Security Features
**Location:** `jib-container/scripts/git-credential-github-token`
**Description:** Shell script that provides GitHub tokens for HTTPS git authentication. Reads tokens from shared file (refreshed by host service) or environment variable, enabling git push without embedded tokens in remote URLs.

## Configuration

### 138. Slack Receiver Service Setup
**Category:** Configuration
**Location:** `host-services/slack/slack-receiver/setup.sh`, `host-services/slack/slack-receiver/slack-receiver.service`
**Description:** Provides automated installation and configuration of the Slack Receiver as a systemd user service. The setup script creates symlinks, enables the service, and provides helpful management commands for checking status and viewing logs.

### 139. Confluence Configuration System
**Category:** Configuration
**Location:** `host-services/sync/context-sync/connectors/confluence/config.py`
**Description:** Environment-based configuration for Confluence connector supporting authentication credentials, space selection, output directories, sync intervals, API options, output format preferences (HTML/markdown), and validation with error reporting for missing configuration.

### 140. JIRA Configuration System
**Category:** Configuration
**Location:** `host-services/sync/context-sync/connectors/jira/config.py`
**Description:** Environment-based configuration for JIRA connector supporting authentication, JQL query customization, comment/attachment/worklog inclusion options, API timeouts, and incremental sync settings. Includes comprehensive validation with detailed error messages.

### 141. Interactive Setup Wizard
**Category:** Configuration
**Location:** `host-services/sync/context-sync/utils/setup.py`, `host-services/sync/context-sync/setup.sh`
**Description:** Interactive configuration setup that prompts users for Confluence/JIRA credentials, API tokens, and space keys. Stores configuration securely in ~/.config/context-sync/.env with proper permissions (600) and validates connections before saving.

### 142. Bootstrap Command for Khan Academy
**Category:** Configuration
**Location:** `host-services/sync/context-sync/docs/README.md`
**Description:** One-command setup specifically for Khan Academy users that configures Confluence connection, runs initial full sync, creates symlinks in all Khan Academy projects, and prepares everything for Cursor indexing. Designed to minimize onboarding friction.

### 143. Trace Collector Setup Script
**Category:** Configuration
**Location:** `host-services/analysis/trace-collector/setup.sh`
**Description:** Automated installation script that configures Claude Code hooks in ~/.claude/settings.json and creates required storage directories. Handles merging hooks into existing settings using jq for proper JSON manipulation.

### 144. Agent Mission Configuration
**Category:** Configuration
**Location:** `jib-container/.claude/rules/mission.md`, `jib-container/claude-rules/mission.md`
**Description:** Core rule file defining the autonomous software engineering agent's role, workflow, decision framework, and quality standards. Establishes the operating model where the agent implements while humans review and merge.

### 145. Sandbox Environment Configuration
**Category:** Configuration
**Location:** `jib-container/.claude/rules/environment.md`, `jib-container/claude-rules/environment.md`
**Description:** Technical constraint rules defining the sandboxed Docker environment including security model, git push authentication, GitHub MCP server setup, file system layout, and capability boundaries.

### 146. Beads Task Tracking Rules
**Category:** Configuration
**Location:** `jib-container/.claude/rules/beads-usage.md`, `jib-container/claude-rules/beads-usage.md`
**Description:** Mandatory rules for persistent task tracking using the Beads system. Defines commands for creating, updating, and completing tasks, status values, labeling conventions, and troubleshooting guidance.

### 147. Context Tracking Rules
**Category:** Configuration
**Location:** `jib-container/.claude/rules/context-tracking.md`, `jib-container/claude-rules/context-tracking.md`
**Description:** Rules for maintaining persistent memory across container restarts using Beads. Covers Slack thread context via task_id, GitHub PR context tracking, and integration patterns for multi-session work.

### 148. Khan Academy Development Standards
**Category:** Configuration
**Location:** `jib-container/.claude/rules/khan-academy.md`, `jib-container/claude-rules/khan-academy.md`
**Description:** Code standards and conventions for Khan Academy development including tech stack details (Python, React, TypeScript), coding style guidelines, common commands, file organization, and security reminders.

### 149. PR Description Guidelines
**Category:** Configuration
**Location:** `jib-container/.claude/rules/pr-descriptions.md`, `jib-container/claude-rules/pr-descriptions.md`
**Description:** Quality standards for writing pull request descriptions following Khan Academy format. Includes templates for one-line summaries, full summaries, issue links, test plans, and handling of breaking changes.

### 150. Test Discovery Workflow Rules
**Category:** Configuration
**Location:** `jib-container/.claude/rules/test-workflow.md`, `jib-container/claude-rules/test-workflow.md`
**Description:** Rules for dynamically discovering and executing tests in any codebase. Covers test discovery tools, execution workflow, patterns by language, handling failures, and integration with the overall development process.

### 151. Notification Template Rules
**Category:** Configuration
**Location:** `jib-container/.claude/rules/notification-template.md`, `jib-container/claude-rules/notification-template.md`
**Description:** Guidelines for async notifications to humans via Slack including when to send notifications, Python library and file-based methods, thread reply support, priority levels, and blocking vs non-blocking patterns.

### 152. Claude Agent Rules System
**Category:** Configuration
**Location:** `jib-container/.claude/rules/README.md`, `jib-container/claude-rules/README.md`
**Description:** A comprehensive instruction system that configures Claude Code to operate as an autonomous software engineering agent. The rules define the agent's role, workflow, decision-making framework, and quality standards for autonomous code generation, testing, and PR creation within a sandboxed Docker environment.

### 153. Master Setup Script
**Category:** Configuration
**Location:** `setup.sh`
**Description:** Comprehensive installation and configuration script for the james-in-a-box host components. Handles initial setup, updates, and force reinstalls with intelligent detection of existing installations. Configures all systemd services, validates required credentials, sets up Python virtual environments, and orchestrates installation of all host services.

### 154. Dependency Management
**Category:** Configuration
**Location:** `setup.sh`
**Description:** Automatic detection and installation of required dependencies including uv (Python package manager), beads (persistent task memory system), Docker, and other system requirements. Provides interactive prompts for missing dependencies and handles PATH configuration.

---

## Maintaining This List

This feature list is maintained by the Feature Analyzer tool.

### Update Commands

```bash
# Regenerate entire list from scratch
feature-analyzer full-repo --repo-root /path/to/repo

# Weekly incremental updates
feature-analyzer weekly-analyze --days 7
```

**Last Updated:** 2025-12-01
